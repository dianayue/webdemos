"use strict";var DEFAULT_INTERVAL=1e3/60,STATE_INITIAL=0,STATE_START=1,STATE_STOP=2;function Timeline(){this.animationHandler=0,this.state=STATE_INITIAL}function startTimeline(t,e){var i=+new Date;function n(){var a=+new Date;t.animationHandler=requestAnimationFrame(n),a-i>=t.interval&&(t.onenterframe(a-e),i=a)}t.startTime=e,n.interval=t.interval,n()}Timeline.prototype.onenterframe=function(t){},Timeline.prototype.start=function(t){this.state!==STATE_START&&(this.state=STATE_START,this.interval=t||DEFAULT_INTERVAL,startTimeline(this,+new Date))},Timeline.prototype.restart=function(){this.state!==STATE_START&&this.dur&&this.interval&&(this.state=STATE_START,startTimeline(this,+new Date-this.dur))},Timeline.prototype.stop=function(){this.state===STATE_START&&(this.state=STATE_STOP,this.startTime&&(this.dur=+new Date-this.startTime),cancelAnimationFrame(this.animationHandler))};var requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,t.interval||DEFAULT_INTERVAL)},cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(t){window.clearTimeout(t)};module.exports=Timeline;